<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title></title>
	</head>
	<body>
		<div id="css0" style="display: none;">
				/* 曾经看不懂无脸男为何为什么对千寻这么好，也不懂为何一直跟着千寻。
				现在才懂，孤单的人只要一点点温暖就会感动，比起金子，纯真的灵魂更让人感动。
				我能成为你的无脸男，用守护和陪伴替代说不出口的喜欢吗？ */
		
				/* I'm cheating a bit */
		
		html, body {
			margin-top: 0;
			height: 100%;
			overflow: hidden;
		}
		
		pre {
			overflow: auto;
			max-height: 90%;
			width: 100%;
			border-radius: 1px; /* Prevents bad clipping in Chrome */
		}
		
		#content {
			position: absolute;
			top: 0; right: 20px; left: 0; bottom: 20px;
		}
		
		#header {
			position: absolute;
			bottom: 0;
			height: 20px;
			left: 0;
			right: 0;
			padding: 0 10px;
		}
		
		a:after {
			content: '';
			padding-right: 5px;
			border-right-width: 1px;
			border-right-style: solid;
			border-color: inherit;
		}
		
		a:last-of-type:after {
			border: none;
		}

		.translateX1095 {
			transform: translateX(-100%)!important;
			-webkit-transform: translateX(-100%)!important;
			position: absolute;
		}

		.translateY1105rotateY0010 {
			transform: translateY(-105%) rotateY(10deg)!important;
			-webkit-transform: translateY(-105%) rotateY(10deg)!important;
			position: absolute;
		}

		.translateY0105rotateY0010 {
			transform: translateY(105%) rotateY(10deg)!important;
			-webkit-transform: translateY(105%) rotateY(10deg)!important;
			position: absolute;
		}
		
		.translateY0105rotateY0010R {
			transform: translateY(105%) rotateY(10deg)!important;
			-webkit-transform: translateY(105%) rotateY(10deg)!important;
			position: relative!important;
		}

		.poR{
			position: relative;
		}

		.rotateY0010 {
			transform: rotateY(10deg)!important;
			-webkit-transform: rotateY(10deg)!important;
			position: absolute;
		}

		.test-text{
			transform: translateY(105%) rotateY(10deg)!important;
			-webkit-transform: translateY(105%) rotateY(10deg)!important;
			-webkit-transform-origin: left;
			position: absolute;
		}

		#input-text{
			margin-top: 42%;
			position: relative;
		}

		.marginTop0100{
			margin-top: 100%!important;
		}

		input{
			outline-style: none ;
			border: 1px solid #ccc; 
			border-radius: 10px;
			padding: 13px 14px;
			width: 80%;
			font-size: 14px;
			font-weight: 700;
			font-family: "Microsoft soft";
			background:cornsilk;
		}

		textarea{
			outline-style: none ;
			background:cornsilk;
			font-family: "Microsoft soft";
			font-size: 14px;
			font-weight: 700;
			border: 1px solid #ccc; 
			border-radius: 10px;
			/*resize:none;去除谷歌textarea右下角的小三角*/
			/*overflow-y:hidden;没有垂直滚动条*/
		}

		/*多行文本框*/
		.multieditbox{
			background: #f8f8f8;
			border-bottom: #b7b7b7 1px solid;
			border-left: #b7b7b7 1px solid;
			border-right: #b7b7b7 1px solid;
			border-top: #b7b7b7 1px solid;
			color: #000000;
			cursor: text;
			font-family: "arial";
			font-size: 9pt;
			padding: 1px; /*www.52css.com*/
		}
		
		/*按钮样式*/

		.buttonFlow {
			position: relative;
			background-color: #4CAF50;
			border: none;
			font-size: 30px;
			color: #FFFFFF;
			margin: 0;
			width: 200px;
			height: 75px;
			text-align: center;
			-webkit-transition-duration: 0.4s;
			
			transition-duration: 0.4s;
			text-decoration: none;
			overflow: hidden;
			cursor: pointer;
				
		}
		
		.buttonFlow:after {
			content: "";
			background: #90EE90;
			display: block;
			position: absolute;
		    padding-top: 300px;
			padding-left: 300px;
			margin-left: -25%;
			margin-top: -75%;
			opacity: 0; 
			border-radius: 10000px;
			transition: all 1s;
		}
		
		.buttonFlow:active:after {
			padding: 0;
			margin-left: 50%;
			margin-top: -10%;
			opacity: 1;
			transition: 0s
		}

		.buttonLine {
			font-size: 20px;
			color: #000;
			background: cornsilk;
			display: inline-block;
			vertical-align: middle;
			-webkit-transform: perspective(1px) translateZ(0);
			transform: perspective(1px) translateZ(0);
			box-shadow: 0 0 1px transparent;
			position: relative;
			margin-top: 20px;
			padding-left: 10px;
			padding-right: 10px;
			
		}

		.buttonLine:hover {
			background: #fff;
		}
		
		.buttonLine:before {
			content: "";
			position: absolute;
			z-index: -1;
			left: 50%;
			right: 50%;
			bottom: 0;
			background: blue;
			height: 8px;
			-webkit-transition-property: left, right;
			transition-property: left, right;
			-webkit-transition-duration: 0.3s;
			transition-duration: 0.3s;
			-webkit-transition-timing-function: ease-out;
			transition-timing-function: ease-out;
			
		}
		
		.buttonLine:hover:before {
			left: 0;
			right: 0;
			background: blue;
		}

		/*
		*scrollbar-3d-light-color立体滚动条亮边的颜色（设置滚动条的颜色）
		*scrollbar-arrow-color上下按钮上三角箭头的颜色
		*scrollbar-base-color滚动条的基本颜色
		*scrollbar-dark-shadow-color立体滚动条强阴影的颜色
		*scrollbar-face-color立体滚动条凸出部分的颜色
		*scrollbar-highlight-color滚动条空白部分的颜色
		*scrollbar-shadow-color立体滚动条阴影的颜色
		*/

		.scrollbarTest{
			scrollbar-3d-light-color:red;
			scrollbar-arrow-color:red;
			scrollbar-base-color:red;
		}
	


				
		</div>
		<div id="biaobai" style="display: none;">
				/**
				*
				* Hey. My name's CDK. 
				*
				*/

				/**
				*
				* 曾经看不懂无脸男为何为什么对千寻这么好，也不懂为何一直跟着千寻。
				* 现在才懂，孤单的人只要一点点温暖就会感动，比起金子，纯真的灵魂更让人感动。
				* 我能成为你的无脸男，用守护和陪伴替代说不出口的喜欢吗？ 
				*
				*/		

				html{
					color:red;
				}
				
		</div>
		<div id="css1" style="display: none;">	    
/**
*
* Hey. My name's CDK. 
*
* 我打算建立一个动态网站。
*
* 实况直播编码怎么样？
*/

/**
* 让我马上开始吧。我们先从动画开始，设置动画过渡时间
*/

* {
	transition: all 1s;
	-webkit-transition: all 1s;
}

/**
*白底黑字很无聊，
*所以让我们做点什么。
*/

html {
 background: rgb(63, 82, 99);
}

/**
* 还有字体颜色
*/

pre, a {
 color: white;
}

/**
* 这样就好多了。
*
* 在这片空旷的地方工作是很困难的。
*
* 我要为我们的工作创造一个好地方。
*
* 指定不是空的pre元素样式
*/

pre:not(:empty) {
 overflow: auto;
 background: rgb(48, 48, 48);
 border: 1px solid #ccc;
 max-height: 44.6%;
 width: 49%;
 font-size: 14px;
 font-family: monospace;
 padding: 10px 10px 20px;
 box-shadow: -4px 4px 2px 0 rgba(0,0,0,0.3);
 white-space: pre-wrap;/*保留空白符序列，但是正常地进行换行。*/
 outline: 0;
 border-radius: 20px;
 position: absolute;
}

/**
* 可以。我们要开始填充屏幕。
* 我们准备做些工作吧。
*/

#style-text {
 -webkit-transform: translateX(95%);
 position: absolute;
}

/**
* 这很好，但是所有的文字都是白色的！
* 让我们让它更具可读性。
*/

.comment       { color: #857F6B; font-style: italic; }
.selector      { color: #E69F0F; }
.selector .key { color: #64D5EA; }
.key           { color: #64D5EA; }
.value         { color: #BE84F2; }
.value.px      { color: #F92772; }

/**
* 现在我们到了某个地方。
* 是时候了解一下情况了。
* 设置元素被查看位置的视图
*/

body {
 -webkit-perspective: 1000px;
}

#style-text {
 -webkit-transform: translateX(98.5%) rotateY(-10deg);
 -webkit-transform-origin: right;
 max-height: 94.5%;
}

/**
* 那么，让我们谈谈项目。这就是你来这里的原因，对吧？
* 我无法想象你只是来看漂亮的颜色。
*/

pre:not(#style-text) {
 -webkit-transform: rotateY(10deg);
 -webkit-transform-origin: left;
}


/**
 * 左边的markdown看起来不太好。我们来渲染一下。
 */

#work-text.flipped {
  -webkit-transform: rotateX(0deg) rotateY(190deg) rotateZ(180deg);
}

#work-text{
 position: absolute;
}

/**
*  #work-text .md {
*	-webkit-transform: rotateY(190deg) rotateZ(180deg);
*	margin-top: 800px;
*  }
*/

/**
 * 就快做好了
 */

 pre:hover{
   box-shadow: 0px 0px 40px 5px rgba(255,255,255,0.4);
 }

 #test-text .text{
   color: #E69F0F;
 }

 /**
 * 开始打印我的简历吧
 */
		</div>
		<div id="mdCss" style="display: none;">
			
/**
* 文本可能需要一些调整。
*/

.md {
 font-family: "Helvetica Neue", Helvetica, sans-serif;
}

.md h1, .md h2, .md h3, .md h4, .md h5, .md h6 {
 display: inline-block;
 color: #ddd;
 border-bottom: 1px solid #ccc;
 padding-bottom: 5px;
}

.md li {
 margin: 5px 0;
}

.md h1, .md h2, .md h3, .md h4, .md h5, .md h6, .md ul, .md p {
 margin: 0px;
}
		</div>
		<div id="css2" style="display: none;">
#input{
	
}
		</div>
		<div id="workText" style="display: none;">
cdkking.top
===========

基本信息
-------
姓名:	CDK
出生:	1995-05-30
院校:	深圳大学
现居:	深圳

联系方式
-------
手机： 	13670183236
邮箱： 	1360531956@qq.com

个人技能
-------
语言：JavaScript / Html5 / Css3 / Java / C# / C++
数据库：MySQL / SQL Server
前端框架：Vue / Element UI / Amazing UI / Bootstrap / MUI / Echarts
工具：SVN / Git / Visual Studio Code / IntelliJ IDEA
熟练掌握单例、工厂、构造、原型等多种Javascript设计模式
精通原生JavaScript，canvas绘图，能够独立编写web游戏
个人Git地址：https://github.com/cdk-king

工作经历
-------
深圳市中交阳光科技有限公司 | 全栈开发工程师 2017-2018
技术栈：ASP.NET （Web Forms 、MVC）/ Vue 
参与铁路道路门户管理系统的开发：
负责恒泰实业公路工程动态管理系统平台、深圳地铁管理系统平台、佛山地铁OA系统平台 
的管理和开发，主要负责公文系统，合同管理、用户管理系统的开发 
参与工汇通农民工工资管理系统开发：
主要负责工资查询系统、个人工资时间轴系统、话题评论系统的开发 
参与工汇通钉钉和微信公众号平台端的开发 

深圳市九五互娱科技有限公司 | 前端开发工程师 2018-2019
技术栈：Vue + Java SpringBoot 
主导游戏后台管理系统前端的设计和开发：
实现用户角色权限管理、多游戏多平台渠道区服管理、玩家日志公告道具礼包等运营管理 
主导后台管理系统后台接口和数据库的设计开发：
实现一对多和多对多关系数据表间映射、多线程缓存数据接口、激活码的生成和验证算法 
参与游戏服务器部分功能开发：
游戏任务功能的开发、游戏日活跃度功能开发 

项目
-------
* 游戏后台管理系统
* cdk.js
* web游戏
* 个人博客
* www.cdkking.top

开源
-------
* CerradK
* T2D
* lastColony
* frootWars
* Snail-Bait
* Imitation
* live_game
* cdkBlog
* CDK-Project

		</div>
		<div id="div"></div>
		<div id="content">
		<!-- <pre> 标签可定义预格式化的文本。
		被包围在 <pre> 标签 元素中的文本通常会保留空格和换行符。而文本也会呈现为等宽字体。 -->
		<!-- contenteditable 属性规定元素内容是否可编辑。 -->
		<pre contenteditable id="style-text"></pre>
		<pre id="test-text" style="opacity: 0;" >
				<div id="text" class="text" style="display: none;"></div>
			</pre>
		<pre id="work-text" style="opacity: 0;position:absolute" class="translateY0105rotateY0010">
			<div id="md" class="md" style="display: none;"></div>
			
		</pre>

		<pre id="input-text" style="opacity: 0;position:relative" class="">
			<input id="input" type="" class="input" style="display: none;"/>
			<textarea id="textarea" name="content" class="scrollbarTest" rows="10" cols="50" onpropertychange="if(this.scrollHeight>80) this.style.posHeight=this.scrollHeight+5">
*{
color:blue;
}
			</textarea>
			<button id="button" class="buttonLine">提交</button>
		</pre>
		
		</div>
		<div id="header"></div>
	</body>
	<script>

//el.scrollTop = el.scrollHeight;
//slice()

		// isInside = false;
		// isComment = false;
		// startSelect = false;
		// startKey = false;
		// startValue = false;
		// data = "";
		// html = "";
		// writer(workTextEl,workText.innerHTML,0);

		var startCss = true;
		var startMdCss = false;
		var isInside = false;
		var isComment = false;
		var startSelect = false;
		var startKey = false;
		var isKey = false;
		var startValue = false;
		var data = "";
		var html1 = "";
		var html2 = "";
		var div = document.getElementById("div");
		var styleText = document.getElementById("style-text");

		
		
		
		var css0El = document.getElementById("css0");
		var css0  = css0El.innerHTML;
		var css1El= document.getElementById("css1");
		//var css1  = "<span>"+css1El.innerHTML+"</span>";
		var css1  = css1El.innerHTML;
		//console.log(css0);
		writerCss(styleText,css1,0);

		var workText = document.getElementById("workText");
		var workTextEl = document.getElementById("work-text");
		var mdEl = document.getElementById("md");
		var testTextEl = document.getElementById("test-text");
		var textEl = document.getElementById("text");

		var inputTextEl = document.getElementById("input-text");
		var inputEl = document.getElementById("input");

		var buttonEl = document.getElementById("button");
		// workTextEl.innerHTML = workText.innerHTML;

		var mdCssEl = document.getElementById("mdCss");
		var mdCss = mdCssEl.innerHTML;

		var time1 = setInterval(function(){
			if(startCss == false){
				isInside = false;
				isComment = false;
				startSelect = false;
				startKey = false;
				isKey = false;
				startValue = false;
				data = "";
				html1 = "";
				console.log("startWorkText");
				workTextEl.style.opacity = "1";
				testTextEl.style.opacity = "1";
				mdEl.style.display = "block";
				textEl.style.display = "block";
				writerMarkdown(mdEl,workText.innerHTML,0);
				writerText(textEl,workText.innerHTML,0);
				clearInterval(time1);
			}
			
		},1000);

		var time_id1;
		var time_id2;

		var time2 = setInterval(function(){
			if(startMdCss){
				console.log("startMdCss");
				isInside = false;
				isComment = false;
				startSelect = false;
				startKey = false;
				isKey = false;
				startValue = false;
				data = "";
				html1 = styleText.innerHTML;
				var len = css1.length;
				var str = css1+mdCss;
				//workTextEl.scrollTop = 0;
				//testTextEl.scrollTop = 0;

				scrollToTop(workTextEl,time_id1);
				scrollToTop(testTextEl,time_id2);

				var callback = function(){
					transformTestText();
					inputTextEl.style.opacity = "1";
					//inputEl.style.display = "block";
					//inputTextEl.style.display = "block";
				}
				
				writerCss(styleText,str,len,callback);
				clearInterval(time2);
			}
		},1000);

		function transformTestText(){
			var oClass = testTextEl.className;
			if(oClass==""){
				testTextEl.className ="translateX1095";
				workTextEl.className ="translateY1105rotateY010";
				inputTextEl.className = "";
			}else{
				testTextEl.className ="";
				workTextEl.className ="translateY0105rotateY0010";
				inputTextEl.className ="marginTop0100";
			}
		}

		function scrollToTop(el,time_id){
			time_id = setInterval(function(){
			var top = el.scrollTop;
			//console.log(top);
			top = top-50;
			el.scrollTop = top;
			if (el.scrollTop  <= 0) {
				el.scrollTop  = 0;
				clearInterval(time_id);
			}
			}, 30);
		}

		//styleText.innerHTML = css1;

		var  mdSign1 = true;
		var  mdSign2 = false;
		var  mdLastLastSignValue = "";
		var  mdLastSignValue = "";
		var  mdSignValue = "";
		var  isMd = false;
		var  isUl = false;

		function writerMarkdown(el,data,index,callback){
			var oochar = data.substring(index-1,index);
			var ochar = data.substring(index,index+1);
			var nchar = data.substring(index+1,index+2);
			if(ochar=="\n"){

				if(isMd){		
					var count = mdSignValue.length;
					html1 = html1.substring(0,html1.length-count);
					isMd = false;
				}

				if(mdSignValue.indexOf("*")!=-1 && mdLastSignValue.indexOf("*")==-1){
					var str = mdSignValue.replace("*","");
					html1 = html1.replace(mdSignValue,"<ul><li>"+str+"</li>");
					isUl = true;
					
				}else if(mdSignValue.indexOf("*")!=-1 ){
					var str = mdSignValue.replace("*","");
					html1 = html1.replace(mdSignValue,"<li>"+str+"</li>");
				}else{
					if(isUl){
						html1+="</ul>"
						isUl = false;
					}
				}

				mdLastLastSignValue = mdLastSignValue;
				mdLastSignValue = mdSignValue;
				mdSignValue = "";
				
			}else{
				
				mdSignValue += data.substring(index,index+1);
				
			}
			//--------
			if(ochar=="-" && nchar=="-" && !isMd && (mdLastSignValue.indexOf("-")==-1)){//&& (mdLastSignValue.indexOf("-")<0)
				//console.log(mdLastSignValue);		
				html1 = html1.replace(mdLastSignValue,"<h2>"+mdLastSignValue+"</h2>");
				isMd = true;
			}

			//--------
			//--------
			if(ochar=="-" && nchar=="-" && !isMd && (mdLastSignValue.indexOf("-")!=-1)){//
				//console.log(mdLastSignValue);
				var str = mdLastLastSignValue.replace("h2>","h1>");
				html1 = html1.replace(mdLastLastSignValue,str);
				isMd = true;
			}

			if(ochar=="=" && nchar=="=" && !isMd){//&& (mdLastSignValue.indexOf("-")<0)
				html1 = html1.replace(mdLastSignValue,"<h1>"+mdLastSignValue+"</h1>");
				isMd = true;
			}


			html1 += data.substring(index,index+1);
			el.innerHTML = html1;
			index++;
			if(index<data.length){
				var char = data.substring(index-1,index);
				if(char=="," || char=="，" || char=="。" || char=="." || char==";"){
					setTimeout(function(){
						writerMarkdown(el,data,index,callback);
						//console.log(el.scrollHeight);
						workTextEl.scrollTop = el.scrollHeight;
						//el.style.marginTop = el.scrollHeight+"px";
					},20)
				}else{
					setTimeout(function(){
						writerMarkdown(el,data,index,callback);
						workTextEl.scrollTop = el.scrollHeight;
						//el.style.marginTop = el.scrollHeight+"px";
					},10)
				}
			}else{
				startMdCss = true;
			}
		}

		function writerText(el,data,index,callback){
			var oochar = data.substring(index-1,index);
			var ochar = data.substring(index,index+1);
			var nchar = data.substring(index+1,index+2);
			
			html2 += data.substring(index,index+1);
			el.innerHTML = html2;
			index++;
			if(index<data.length){
				var char = data.substring(index-1,index);

				if(char=="," || char=="，" || char=="。" || char=="." || char==";"){
					setTimeout(function(){
						writerText(el,data,index,callback);
						testTextEl.scrollTop = el.scrollHeight;
					},20)
				}else{
					setTimeout(function(){
						writerText(el,data,index,callback);
						testTextEl.scrollTop = el.scrollHeight;
					},10)
				}
			}else{
				
			}
		}

		var signValue = "";
		var lastSignValue = "";
		var lastLastSignValue = "";


		function addCss(el,data,index,callback){
			
			var oochar = data.substring(index-1,index);
			var ochar = data.substring(index,index+1);
			var nchar = data.substring(index+1,index+2);

			if(ochar == "\n"){
				lastLastSignValue = lastSignValue;
				lastSignValue = signValue;
				signValue = "";
			}

			if(ochar=="{" && !isInside && !isComment){
				isInside = true;
				startSelect=false;
				startKey = true;
				html1 +="</span>";
			}	
			if(ochar=="}" && isInside && !isComment){
				isInside = false; 
				startKey = false;
				startValue = false;
				
			}
			
			if(ochar==":" && isInside && !isComment){
				isInside = true;
				startSelect=false;
				startValue = true;
				startKey = false;
				html1 +="</span>";
			}
			if(ochar==";" && !isComment){
				isInside = true;
				startSelect=false;
				startValue = false;
				startKey = true;
				html1 +="</span>";
			}

			if((ochar+nchar)=="/*"){
				isComment=true;
				html1 +="<span class='comment'>"+ data.substring(index,index+1);
			}else if((oochar+ochar)=="*/"){
				isComment=false;
				html1 += data.substring(index,index+1)+"</span>";
			}
			else{
				html1 += data.substring(index,index+1);
				mdSignValue += data.substring(index,index+1);
				
			}

			if(!isInside && !isComment && !startSelect){
				//选择器
				startSelect=true;
				html1 +="<span class='selector'>";
			}

			if(isInside && !isComment && !startSelect && startKey && !startValue){
				//key
				startSelect=false;
				startKey = false;
				html1 +="<span class='key'>";
			}
			
			if(isInside && !isComment && !startSelect  && !startKey && startValue){
				//value
				startSelect=false;
				startValue = false;
				html1 +="<span class='value'>";
			}
			
			index++;
			if(index<data.length){
				var char = data.substring(index-1,index);

				if(char=="," || char=="，" || char=="。" || char=="." || char==";"){
					addCss(el,data,index,callback);
					//el.scrollTop = el.scrollHeight;
				}else{
					addCss(el,data,index,callback);
					//el.scrollTop = el.scrollHeight;
				}
			}else{
				el.innerHTML = html1;
				el.scrollTop = el.scrollHeight;
				if(typeof(callback)=="function"){
					callback();
				}
				
				startCss = false;
				startMdCss = false;
			}
		}
		
		function writerCss(el,data,index,callback){
			
			
			if(startCss){
				updateCss(css0+data.substring(0,index+1));
			}else if(startMdCss){
				updateCss(css0+data.substring(0,index+1));
			}
			
			var oochar = data.substring(index-1,index);
			var ochar = data.substring(index,index+1);
			var nchar = data.substring(index+1,index+2);

			if(ochar=="{" && !isInside && !isComment){
				isInside = true;
				startSelect=false;
				startKey = true;
				html1 +="</span>";
			}	
			if(ochar=="}" && isInside && !isComment){
				if(isKey){
					isKey = false;
					startKey = false;
					html1 +="</span>";
				}
				isInside = false; 
				startKey = false;
				startValue = false;
			}
			
			if(ochar==":" && isInside && !isComment){
				isInside = true;
				startSelect=false;
				startValue = true;
				startKey = false;
				isKey = false;
				html1 +="</span>";
			}
			if(ochar==";" && !isComment && isInside){
				isInside = true;
				startSelect=false;
				startValue = false;
				startKey = true;
				isKey = true;
				html1 +="</span>";
			}
			if(ochar=="\n" && isKey){
				//console.log(ochar);
				//console.log(startKey);
				// startKey = false;
				// html1 +="</span>";
			}
			

			if(isInside){

			}

			if((ochar+nchar)=="/*"){
				isComment=true;
				html1 +="<span class='comment'>"+ data.substring(index,index+1);
			}else if((oochar+ochar)=="*/"){
				isComment=false;
				html1 += data.substring(index,index+1)+"</span>";
			}
			else{
				html1 += data.substring(index,index+1);
			}

			if(!isInside && !isComment && !startSelect && !startKey){
				//选择器
				startSelect=true;
				html1 +="<span class='selector'>";
			}

			if(isInside && !isComment && !startSelect && startKey && !startValue){
				//key
				startSelect=false;
				startKey = false;
				html1 +="<span class='key'>";
			}
			
			if(isInside && !isComment && !startSelect  && !startKey && startValue){
				//value
				startSelect=false;
				startValue =false;
				html1 +="<span class='value'>";
			}

			el.innerHTML = html1;
			index++;
			if(index<data.length){
				
				var char = data.substring(index-1,index);

				if(char=="," || char=="，" || char=="。" || char=="." || char==";"){
					setTimeout(function(){
						writerCss(el,data,index,callback);
						el.scrollTop = el.scrollHeight;
					},20)
				}else{
					setTimeout(function(){
						writerCss(el,data,index,callback);
						el.scrollTop = el.scrollHeight;
					},10)
				}
			}else{
				console.log(typeof(callback));
				if(typeof(callback)=="function"){
					callback();
				}
				startCss = false;
				startMdCss = false;
			}
			
		}	
		function updateCss(data){
			var style = document.createElement('style');
			style.type = 'text/css';
			style.innerHTML=data;
			var parent=document.getElementsByTagName('HEAD').item(0);
			var childs=parent.getElementsByTagName("style");
			if(childs.length>0){
				parent.removeChild(childs[0]);
			}
			
			document.getElementsByTagName('HEAD').item(0).appendChild(style);
		}
		function mapData(data){
			
			
		}
		function checkSymbol(data){
			
			
		}



		document.addEventListener("click",function(ev){
			//console.log("click");
			//console.log(ev);
			//console.log(ev.target);
			
			if( ev.target==mdEl || ev.target==textEl){
				transformTestText();
			}
			
		});


		styleText.addEventListener("input",function(ev){
			//console.log("input");

			isInside = false;
			isComment = false;
			startSelect = false;
			startKey = false;
			isKey = false;
			startValue = false;
			data = "";
			html1 = "";

			var str1 = css0+styleText.innerText;
			var str2 = styleText.innerText;

			//var top = styleText.scrollHeight;
			var top = styleText.scrollTop;
			var len = str2.length-1;
			var callback = function(){
				styleText.scrollTop = Math.floor(top);
			}
			
			//addCss(styleText,str2,len,callback);
			updateCss(str1);
		});


		styleText.onkeydown=function(event){
            
            var e = event || window.event || arguments.callee.caller.arguments[0];
            var currKey=e.keyCode||e.which||e.charCode;
			//console.log(currKey.toString());
			
			var keynum;
			var keychar;

			keynum = window.event ? e.keyCode : e.which;
			keychar = String.fromCharCode(keynum);

            if(e){ 
                console.log(keynum+':'+keychar);
                
			}
		}

		var textareaEl = document.getElementById("textarea");
		var textareaValue = textareaEl.value;

		buttonEl.addEventListener("click",function(ev){
			//console.log("buttonClick");
			textareaValue = textareaEl.value;
			console.log(textareaValue);
			
			var len = styleText.innerText.length;
			var str = styleText.innerText+"\n"+textareaValue;

			startCss = true;
			isInside = false;
			isComment = false;
			startSelect = false;
			startKey = false;
			isKey = false;
			startValue = false;
			data = "";
			html1 = styleText.innerHTML;
			var callback = function(){
				var str1 = css0+styleText.innerText;
				updateCss(str1);
			}
			writerCss(styleText,str,len);
			
		});

	</script>
</html>